<div *ngIf="isFinal(); else inGameStatus"
    class="fleet-status-final row g-0 my-2 py-3 justify-content-around"
    [ngClass]="{
        'destroyed' : fleetDestroyed()
    }"
>
    <svg *ngIf="fleetDestroyed()"
        class="destroyed-overlay"
        height="100%"
        width="100%"
    >
        <line class="diagonal-line" x1="0" y1="0" x2="100%" y2="100%"></line>
        <line class="diagonal-line" x1="0" y1="100%" x2="100%" y2="0"></line>
    </svg>
    <div *ngFor="let ship of fleet()" class="ship col-2">
        <div class="mb-2">
            <span>{{ ship.name }}</span>
        </div>
        <div class="health-bar d-flex gap-1">
            <div *ngFor="let x of [].constructor(ship.length); let i = index"
                class="health-bar-piece"
                [attr.data-filled]="i < ship.health"
            ></div>
        </div>
    </div>
</div>

<ng-template #inGameStatus>
    <div class="fleet-status">
        <div *ngFor="let ship of fleet()"
            class="ship row my-2 g-0 justify-content-between"
            [ngClass]="{
                'destroyed': ship.health === 0
            }"
        >
            <svg *ngIf="ship.health === 0"
                class="destroyed-overlay"
                height="100%"
                width="100%"
            >
                <line class="diagonal-line" x1="0" y1="0" x2="100%" y2="100%"></line>
                <line class="diagonal-line" x1="0" y1="100%" x2="100%" y2="0"></line>
            </svg>
            <div class="col-auto">
                <span>{{ ship.name }}</span>
            </div>
            <div *ngIf="isPlayer()" class="health-bar col-auto">
                <div *ngFor="let x of [].constructor(ship.length); let i = index"
                    class="health-bar-piece"
                    [attr.data-filled]="i < ship.health"
                ></div>
            </div>
        </div>
    </div>
</ng-template>
